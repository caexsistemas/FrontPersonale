<div class="content">

  <div class="card">
      <div class="card-header">
        Gestión de Vacaciones
      </div>

      <!-- <div class="content-table"> -->
      <div class="mat-elevation-z8">

        
          <div class="toolbar-table" *ngIf="permissions != null">

              <div class="col-xs-6 col-sm-6 col-md-6 text-right float-right mt-3">

                  <div class="btn-group" dropdown>
                     
                  </div>
                  <div class="btn-group" dropdown>

                      <di let element ></di>
                      <button class="btn btn-primary" *ngIf="permissions.create" (click)="option('create',document, idPersonale)"
                          title="Crear">
                          <i class="fa fa-plus"></i>
                      </button>

                  </div>
                 
              </div>

              <div class="container">
                  <mat-form-field appearance="standard" style="width: 100%;">
                      <mat-label>Buscar..</mat-label>
                      <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Cali express" #input>
                  </mat-form-field>
              </div>
          </div>

          <div class="section-table first-action">
            <table>
            <thead>
              <tr>
              
              <!-- <th class="success"  style="position: absolute;left: 75%;top: 49%;font-size: 12px;">Dias de Vacaciones</th> -->
              </tr>
             </thead>
            </table>
              <table mat-table [dataSource]="dataSource" matSort class="table-large table-responsive-lg"
                  *ngIf="contenTable.length > 0">
                  
                 

                  <ng-container matColumnDef="view">
                      <th mat-header-cell *matHeaderCellDef> Ver </th>
                      <td mat-cell *matCellDef="let element">
                          <button class="btn  btn-ghost-secondary" *ngIf="permissions.view"
                              (click)="option('view',element.idsel)" title="Ver">
                              <i class="fa fa-eye fa-lg"></i>
                          </button>
                      </td>
                  </ng-container>

                   <ng-container matColumnDef="idPersonale">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header (click)="openc()">Empleado</th>
                      <td mat-cell *matCellDef="let element"> {{element.name}} </td>
                  </ng-container>

      
                 <ng-container matColumnDef="idPosition">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header (click)="openc()">Cargo</th>
                    <td mat-cell *matCellDef="let element"> {{element.idPosition }} </td>
                </ng-container>

                  <ng-container matColumnDef="admissionDate">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header (click)="openc()">Fecha de Contratación</th>
                    <td mat-cell *matCellDef="let element"> {{element.admissionDate  }} </td>
                </ng-container>

                  <ng-container matColumnDef="daysGained">
                      <th mat-header-cell *matHeaderCellDef> Dias Ganados
                      </th>
                      <td mat-cell *matCellDef="let element">{{prue}}  </td>
                  </ng-container>

                  <ng-container matColumnDef="daysTaken">
                    <th mat-header-cell *matHeaderCellDef> Dias Tomados
                    </th>
                    <td mat-cell *matCellDef="let element">{{prue}}</td> 
                </ng-container>

                <ng-container matColumnDef="remainingDays">
                  <th mat-header-cell *matHeaderCellDef> Dias Restantes
                  </th>
                  <td mat-cell *matCellDef="let element">  </td>
              </ng-container>

                

                  <ng-container matColumnDef="actions">
                      <th mat-header-cell *matHeaderCellDef> Acciones </th>
                      <td mat-cell *matCellDef="let element">
                          <button class="btn  btn-ghost-secondary" *ngIf="permissions.create"
                              (click)="option('create',element.document, element.idPersonale)" title="Editar">
                              <i class="fa fa-edit fa-lg"></i>
                          </button>

                       
                      </td>
                  </ng-container>
                  <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              </table>
              <mat-paginator [pageSizeOptions]="[50, 100, 500]" showFirstLastButtons></mat-paginator>
          </div>
          <div *ngIf="contenTable.length == 0">
              <h4 class="no-records">No hay registros...</h4>
          </div>
  </div>

      </div>
  <div class="card">
    <div class="card-header">
      Solicitud
  </div>
    <!-- <mat-dialog-content> -->

      <!-- <div class="content-table"> -->

      <div class=" mat-elevation-z8">

        <div class="toolbar-table" *ngIf="permissions != null">

            <div class="col-xs-6 col-sm-6 col-md-6 text-right float-right mt-3">

                <div class="btn-group" dropdown>
                    <!-- <button class="btn btn-success" *ngIf="permissions.create" (click)="onTriggerSheetClick()"
                        title="Reporte Excel">
                        <i class="fa fa-feed"></i>
                    </button> -->
                </div>
                <div class="btn-group" dropdown>

                  <di let element ></di>
                  <button class="btn btn-primary" *ngIf="permissions.create" (click)="option('create',document, idPersonale)"
                      title="Crear">
                      <i class="fa fa-plus"></i>
                  </button>

              </div>
               
            </div>

            <div class="container">
                <mat-form-field appearance="standard" style="width: 100%;">
                    <mat-label>Buscar..</mat-label>
                    <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Cali express" #input>
                </mat-form-field>
            </div>
        </div>

        <div class="section-table first-action">
            <table mat-table [dataSource]="dataSourceVacation" matSort class="table-large table-responsive-lg"
                *ngIf="contenTableVacation.length > 0">
               

                <ng-container matColumnDef="view">
                    <th mat-header-cell *matHeaderCellDef> Ver </th>
                    <td mat-cell *matCellDef="let element">
                        <button class="btn  btn-ghost-secondary" *ngIf="permissions.view"
                            (click)="option('view',element.idsel)" title="Ver">
                            <i class="fa fa-eye fa-lg"></i>
                        </button>
                    </td>
                </ng-container>

                 <ng-container matColumnDef="document">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header (click)="openc()">Documento</th>
                    <td mat-cell *matCellDef="let element"> {{element.document}} </td>
                </ng-container>

    
               <ng-container matColumnDef="idPersonale">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header (click)="openc()">Nombres y Apellidos</th>
                  <td mat-cell *matCellDef="let element"> {{element.idPersonale }} </td>
              </ng-container>


                <ng-container matColumnDef="fec_ini">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header (click)="openc()">Fecha Inicio</th>
                    <td mat-cell *matCellDef="let element"> {{element.fec_ini}} </td>
                </ng-container>

                <ng-container matColumnDef="fec_fin">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header (click)="openc()">Fecha Fin</th>
                  <td mat-cell *matCellDef="let element"> {{element.fec_fin  }} </td>
              </ng-container>

                <ng-container matColumnDef="fec_rei">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header (click)="openc()"> Fecha Regreso
                    </th>
                    <td mat-cell *matCellDef="let element"> {{element.fec_rei}} </td>
                </ng-container>

                <ng-container matColumnDef="day_vac">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header (click)="openc()"> # Dias a tomar
                  </th>
                  <td mat-cell *matCellDef="let element"> {{element.day_vac}} </td>
              </ng-container>

                <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef> Acciones </th>
                    <td mat-cell *matCellDef="let element">
                        <button class="btn  btn-ghost-secondary" *ngIf="permissions.update"
                            (click)="option('update',element.idsel,element.create_User)" title="Editar">
                            <i class="fa fa-edit fa-lg"></i>
                        </button>

                        <!-- <button class="btn btn-ghost-danger" *ngIf="permissions.create" (click)="pdf(element.fbid)"
                            title="PDF">
                            <i class="fa fa-file-pdf-o"></i>
                        </button> -->
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumnsVacation; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumnsVacation;"></tr>
            </table>
            <mat-paginator [pageSizeOptions]="[50, 100, 500]" showFirstLastButtons></mat-paginator>
        </div>
        <div *ngIf="contenTableVacation.length == 0">
            <h4 class="no-records">No hay registros...</h4>
        </div>
    </div>
  </div>
  </div>

<div *ngIf="loading" class="loading">
<mat-spinner [diameter]="50"></mat-spinner>
</div>
